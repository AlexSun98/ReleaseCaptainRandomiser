{"version":3,"sources":["..\\..\\./ClientApp/app/modules/books/books.module.ts","..\\..\\./ClientApp/app/modules/books/actions/book.ts","..\\..\\./ClientApp/app/modules/books/reducers/index.ts","..\\..\\./ClientApp/app/modules/books/actions/collection.ts","..\\..\\./~/rxjs/add/operator/switchMap.js","..\\..\\./~/rxjs/add/operator/debounceTime.js","..\\..\\./ClientApp/app/modules/books/components/book-authors.ts","..\\..\\./ClientApp/app/modules/books/components/book-detail.ts","..\\..\\./ClientApp/app/modules/books/components/book-preview-list.ts","..\\..\\./ClientApp/app/modules/books/components/book-preview.ts","..\\..\\./ClientApp/app/modules/books/components/book-search.ts","..\\..\\./ClientApp/app/modules/books/components/index.ts","..\\..\\./ClientApp/app/modules/books/containers/collection-page.ts","..\\..\\./ClientApp/app/modules/books/containers/find-book-page.ts","..\\..\\./ClientApp/app/modules/books/containers/selected-book-page.ts","..\\..\\./ClientApp/app/modules/books/containers/view-book-page.ts","..\\..\\./ClientApp/app/modules/books/effects/book.ts","..\\..\\./ClientApp/app/modules/books/effects/collection.ts","..\\..\\./ClientApp/app/modules/books/guards/book-exists.ts","..\\..\\./ClientApp/app/modules/books/reducers/books.ts","..\\..\\./ClientApp/app/modules/books/reducers/collection.ts","..\\..\\./ClientApp/app/modules/books/reducers/search.ts","..\\..\\./ClientApp/app/shared/pipes/add-commas.ts","..\\..\\./ClientApp/app/shared/pipes/ellipsis.ts","..\\..\\./ClientApp/app/shared/pipes/index.ts","..\\..\\./~/rxjs/add/operator/distinctUntilChanged.js","..\\..\\./~/rxjs/add/operator/mergeMap.js","..\\..\\./~/rxjs/add/operator/pluck.js","..\\..\\./~/rxjs/add/operator/skip.js","..\\..\\./~/rxjs/add/operator/startWith.js","..\\..\\./~/rxjs/add/operator/takeUntil.js","..\\..\\./~/rxjs/add/operator/toArray.js","..\\..\\./~/rxjs/observable/DeferObservable.js","..\\..\\./~/rxjs/observable/defer.js","..\\..\\./~/rxjs/operator/toArray.js","..\\..\\delegated ./node_modules/rxjs/add/operator/filter.js from dll-reference vendor_22a055663ebdc1f0bcc5"],"names":[],"mappings":"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C;OACW,WAAW,CAAG;IAAD,kBAAC;CAAA;AAAd,kCAAW;;;;;;;;;ACXxB;AACA;AACA;AACA;AACA,gD;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;ACLA;AACA;AACA;AACA;AACA,iC;;;;;;;;ACJA;AACA;AACA;AACA;AACA,gC;;;;;;;;ACJA;AACA;AACA;AACA;AACA,qC;;;;;;;;ACJA;AACA;AACA;AACA;AACA,qC;;;;;;;;ACJA;AACA;AACA;AACA;AACA,mC;;;;;;;;ACJA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,aAAa;AACb;AACA,eAAe,kCAAkC;AACjD;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2C;;;;;;;;AClGA;AACA;AACA;AACA,iC;;;;;;;;ACHA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,mC;;;;;;;AC5CA,+C","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MaterialModule } from '@angular/material';\r\nimport { RouterModule } from '@angular/router';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\n\r\nimport { ComponentsModule } from './components';\r\nimport { BookEffects } from './effects/book';\r\nimport { CollectionEffects } from './effects/collection';\r\nimport { BookExistsGuard } from './guards/book-exists';\r\n\r\nimport { FindBookPageComponent } from './containers/find-book-page';\r\nimport { ViewBookPageComponent } from './containers/view-book-page';\r\nimport { SelectedBookPageComponent } from './containers/selected-book-page';\r\nimport { CollectionPageComponent } from './containers/collection-page';\r\n\r\nimport { reducers } from './reducers';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MaterialModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild([\r\n      { path: 'find', component: FindBookPageComponent },\r\n      {\r\n        path: ':id',\r\n        component: ViewBookPageComponent,\r\n        canActivate: [BookExistsGuard],\r\n      },\r\n      { path: '', component: CollectionPageComponent },\r\n    ]),\r\n\r\n    /**\r\n     * StoreModule.forFeature is used for composing state\r\n     * from feature modules. These modules can be loaded\r\n     * eagerly or lazily and will be dynamically added to\r\n     * the existing state.\r\n     */\r\n    StoreModule.forFeature('books', reducers),\r\n\r\n    /**\r\n     * Effects.forFeature is used to register effects\r\n     * from feature modules. Effects can be loaded\r\n     * eagerly or lazily and will be started immediately.\r\n     *\r\n     * All Effects will only be instantiated once regardless of\r\n     * whether they are registered once or multiple times.\r\n     */\r\n    EffectsModule.forFeature([BookEffects, CollectionEffects]),\r\n  ],\r\n  declarations: [\r\n    FindBookPageComponent,\r\n    ViewBookPageComponent,\r\n    SelectedBookPageComponent,\r\n    CollectionPageComponent,\r\n  ],\r\n  providers: [BookExistsGuard],\r\n})\r\nexport class BooksModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/books.module.ts","import { Action } from '@ngrx/store';\r\nimport { Book } from '../models/book';\r\n\r\nexport const SEARCH = '[Book] Search';\r\nexport const SEARCH_COMPLETE = '[Book] Search Complete';\r\nexport const LOAD = '[Book] Load';\r\nexport const SELECT = '[Book] Select';\r\n\r\n/**\r\n * Every action is comprised of at least a type and an optional\r\n * payload. Expressing actions as classes enables powerful\r\n * type checking in reducer functions.\r\n *\r\n * See Discriminated Unions: https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\r\n */\r\nexport class SearchAction implements Action {\r\n  readonly type = SEARCH;\r\n\r\n  constructor(public payload: string) {}\r\n}\r\n\r\nexport class SearchCompleteAction implements Action {\r\n  readonly type = SEARCH_COMPLETE;\r\n\r\n  constructor(public payload: Book[]) {}\r\n}\r\n\r\nexport class LoadAction implements Action {\r\n  readonly type = LOAD;\r\n\r\n  constructor(public payload: Book) {}\r\n}\r\n\r\nexport class SelectAction implements Action {\r\n  readonly type = SELECT;\r\n\r\n  constructor(public payload: string) {}\r\n}\r\n\r\n/**\r\n * Export a type alias of all actions in this action group\r\n * so that reducers can easily compose action types\r\n */\r\nexport type Actions =\r\n  | SearchAction\r\n  | SearchCompleteAction\r\n  | LoadAction\r\n  | SelectAction;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/actions/book.ts","import { createSelector, createFeatureSelector } from '@ngrx/store';\r\nimport * as fromSearch from './search';\r\nimport * as fromBooks from './books';\r\nimport * as fromCollection from './collection';\r\nimport * as fromRoot from '../../reducers';\r\n\r\nexport interface BooksState {\r\n  search: fromSearch.State;\r\n  books: fromBooks.State;\r\n  collection: fromCollection.State;\r\n}\r\n\r\nexport interface State extends fromRoot.State {\r\n  'books': BooksState;\r\n}\r\n\r\nexport const reducers = {\r\n  search: fromSearch.reducer,\r\n  books: fromBooks.reducer,\r\n  collection: fromCollection.reducer,\r\n};\r\n\r\n/**\r\n * A selector function is a map function factory. We pass it parameters and it\r\n * returns a function that maps from the larger state tree into a smaller\r\n * piece of state. This selector simply selects the `books` state.\r\n *\r\n * Selectors are used with the `select` operator.\r\n *\r\n * ```ts\r\n * class MyComponent {\r\n * \tconstructor(state$: Observable<State>) {\r\n * \t  this.booksState$ = state$.select(getBooksState);\r\n * \t}\r\n * }\r\n * ```\r\n */\r\n\r\n/**\r\n * The createFeatureSelector function selects a piece of state from the root of the state object.\r\n * This is used for selecting feature states that are loaded eagerly or lazily.\r\n*/\r\nexport const getBooksState = createFeatureSelector<BooksState>('books');\r\n\r\n/**\r\n * Every reducer module exports selector functions, however child reducers\r\n * have no knowledge of the overall state tree. To make them useable, we\r\n * need to make new selectors that wrap them.\r\n *\r\n * The createSelector function creates very efficient selectors that are memoized and\r\n * only recompute when arguments change. The created selectors can also be composed\r\n * together to select different pieces of state.\r\n */\r\nexport const getBookEntitiesState = createSelector(\r\n  getBooksState,\r\n  (state: BooksState) => state.books\r\n);\r\nexport const getBookEntities = createSelector(\r\n  getBookEntitiesState,\r\n  fromBooks.getEntities\r\n);\r\nexport const getBookIds = createSelector(\r\n  getBookEntitiesState,\r\n  fromBooks.getIds\r\n);\r\nexport const getSelectedBookId = createSelector(\r\n  getBookEntitiesState,\r\n  fromBooks.getSelectedId\r\n);\r\nexport const getSelectedBook = createSelector(\r\n  getBookEntitiesState,\r\n  fromBooks.getSelected\r\n);\r\n\r\n/**\r\n * Just like with the books selectors, we also have to compose the search\r\n * reducer's and collection reducer's selectors.\r\n */\r\nexport const getSearchState = createSelector(\r\n  getBooksState,\r\n  (state: BooksState) => state.search\r\n);\r\n\r\nexport const getSearchBookIds = createSelector(\r\n  getSearchState,\r\n  fromSearch.getIds\r\n);\r\nexport const getSearchQuery = createSelector(\r\n  getSearchState,\r\n  fromSearch.getQuery\r\n);\r\nexport const getSearchLoading = createSelector(\r\n  getSearchState,\r\n  fromSearch.getLoading\r\n);\r\n\r\n/**\r\n * Some selector functions create joins across parts of state. This selector\r\n * composes the search result IDs to return an array of books in the store.\r\n */\r\nexport const getSearchResults = createSelector(\r\n  getBookEntities,\r\n  getSearchBookIds,\r\n  (books, searchIds) => {\r\n    return searchIds.map(id => books[id]);\r\n  }\r\n);\r\n\r\nexport const getCollectionState = createSelector(\r\n  getBooksState,\r\n  (state: BooksState) => state.collection\r\n);\r\n\r\nexport const getCollectionLoaded = createSelector(\r\n  getCollectionState,\r\n  fromCollection.getLoaded\r\n);\r\nexport const getCollectionLoading = createSelector(\r\n  getCollectionState,\r\n  fromCollection.getLoading\r\n);\r\nexport const getCollectionBookIds = createSelector(\r\n  getCollectionState,\r\n  fromCollection.getIds\r\n);\r\n\r\nexport const getBookCollection = createSelector(\r\n  getBookEntities,\r\n  getCollectionBookIds,\r\n  (entities, ids) => {\r\n    return ids.map(id => entities[id]);\r\n  }\r\n);\r\n\r\nexport const isSelectedBookInCollection = createSelector(\r\n  getCollectionBookIds,\r\n  getSelectedBookId,\r\n  (ids, selected) => {\r\n    return ids.indexOf(selected) > -1;\r\n  }\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/reducers/index.ts","import { Action } from '@ngrx/store';\r\nimport { Book } from '../models/book';\r\n\r\nexport const ADD_BOOK = '[Collection] Add Book';\r\nexport const ADD_BOOK_SUCCESS = '[Collection] Add Book Success';\r\nexport const ADD_BOOK_FAIL = '[Collection] Add Book Fail';\r\nexport const REMOVE_BOOK = '[Collection] Remove Book';\r\nexport const REMOVE_BOOK_SUCCESS = '[Collection] Remove Book Success';\r\nexport const REMOVE_BOOK_FAIL = '[Collection] Remove Book Fail';\r\nexport const LOAD = '[Collection] Load';\r\nexport const LOAD_SUCCESS = '[Collection] Load Success';\r\nexport const LOAD_FAIL = '[Collection] Load Fail';\r\n\r\n/**\r\n * Add Book to Collection Actions\r\n */\r\nexport class AddBookAction implements Action {\r\n  readonly type = ADD_BOOK;\r\n\r\n  constructor(public payload: Book) {}\r\n}\r\n\r\nexport class AddBookSuccessAction implements Action {\r\n  readonly type = ADD_BOOK_SUCCESS;\r\n\r\n  constructor(public payload: Book) {}\r\n}\r\n\r\nexport class AddBookFailAction implements Action {\r\n  readonly type = ADD_BOOK_FAIL;\r\n\r\n  constructor(public payload: Book) {}\r\n}\r\n\r\n/**\r\n * Remove Book from Collection Actions\r\n */\r\nexport class RemoveBookAction implements Action {\r\n  readonly type = REMOVE_BOOK;\r\n\r\n  constructor(public payload: Book) {}\r\n}\r\n\r\nexport class RemoveBookSuccessAction implements Action {\r\n  readonly type = REMOVE_BOOK_SUCCESS;\r\n\r\n  constructor(public payload: Book) {}\r\n}\r\n\r\nexport class RemoveBookFailAction implements Action {\r\n  readonly type = REMOVE_BOOK_FAIL;\r\n\r\n  constructor(public payload: Book) {}\r\n}\r\n\r\n/**\r\n * Load Collection Actions\r\n */\r\nexport class LoadAction implements Action {\r\n  readonly type = LOAD;\r\n}\r\n\r\nexport class LoadSuccessAction implements Action {\r\n  readonly type = LOAD_SUCCESS;\r\n\r\n  constructor(public payload: Book[]) {}\r\n}\r\n\r\nexport class LoadFailAction implements Action {\r\n  readonly type = LOAD_FAIL;\r\n\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport type Actions =\r\n  | AddBookAction\r\n  | AddBookSuccessAction\r\n  | AddBookFailAction\r\n  | RemoveBookAction\r\n  | RemoveBookSuccessAction\r\n  | RemoveBookFailAction\r\n  | LoadAction\r\n  | LoadSuccessAction\r\n  | LoadFailAction;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/actions/collection.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar switchMap_1 = require('../../operator/switchMap');\nObservable_1.Observable.prototype.switchMap = switchMap_1.switchMap;\n//# sourceMappingURL=switchMap.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/switchMap.js\n// module id = 130\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar debounceTime_1 = require('../../operator/debounceTime');\nObservable_1.Observable.prototype.debounceTime = debounceTime_1.debounceTime;\n//# sourceMappingURL=debounceTime.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/debounceTime.js\n// module id = 131\n// module chunks = 0","import { Component, Input } from '@angular/core';\r\n\r\nimport { Book } from '../models/book';\r\n\r\n@Component({\r\n  selector: 'bc-book-authors',\r\n  template: `\r\n    <h5 md-subheader>Written By:</h5>\r\n    <span>\r\n      {{ authors | bcAddCommas }}\r\n    </span>\r\n  `,\r\n  styles: [\r\n    `\r\n    h5 {\r\n      margin-bottom: 5px;\r\n    }\r\n  `,\r\n  ],\r\n})\r\nexport class BookAuthorsComponent {\r\n  @Input() book: Book;\r\n\r\n  get authors() {\r\n    return this.book.volumeInfo.authors;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/components/book-authors.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Book } from '../models/book';\r\n\r\n@Component({\r\n  selector: 'bc-book-detail',\r\n  template: `\r\n    <md-card *ngIf=\"book\">\r\n      <md-card-title-group>\r\n        <md-card-title>{{ title }}</md-card-title>\r\n        <md-card-subtitle *ngIf=\"subtitle\">{{ subtitle }}</md-card-subtitle>\r\n        <img md-card-sm-image *ngIf=\"thumbnail\" [src]=\"thumbnail\"/>\r\n      </md-card-title-group>\r\n      <md-card-content>\r\n        <p [innerHtml]=\"description\"></p>\r\n      </md-card-content>\r\n      <md-card-footer class=\"footer\">\r\n        <bc-book-authors [book]=\"book\"></bc-book-authors>\r\n      </md-card-footer>\r\n      <md-card-actions align=\"start\">\r\n        <button md-raised-button color=\"warn\" *ngIf=\"inCollection\" (click)=\"remove.emit(book)\">\r\n        Remove Book from Collection\r\n        </button>\r\n\r\n        <button md-raised-button color=\"primary\" *ngIf=\"!inCollection\" (click)=\"add.emit(book)\">\r\n        Add Book to Collection\r\n        </button>\r\n      </md-card-actions>\r\n    </md-card>\r\n\r\n  `,\r\n  styles: [\r\n    `\r\n    :host {\r\n      display: flex;\r\n      justify-content: center;\r\n      margin: 75px 0;\r\n    }\r\n    md-card {\r\n      max-width: 600px;\r\n    }\r\n    md-card-title-group {\r\n      margin-left: 0;\r\n    }\r\n    img {\r\n      width: 60px;\r\n      min-width: 60px;\r\n      margin-left: 5px;\r\n    }\r\n    md-card-content {\r\n      margin: 15px 0 50px;\r\n    }\r\n    md-card-actions {\r\n      margin: 25px 0 0 !important;\r\n    }\r\n    md-card-footer {\r\n      padding: 0 25px 25px;\r\n      position: relative;\r\n    }\r\n  `,\r\n  ],\r\n})\r\nexport class BookDetailComponent {\r\n  /**\r\n   * Presentational components receieve data through @Input() and communicate events\r\n   * through @Output() but generally maintain no internal state of their\r\n   * own. All decisions are delegated to 'container', or 'smart'\r\n   * components before data updates flow back down.\r\n   *\r\n   * More on 'smart' and 'presentational' components: https://gist.github.com/btroncone/a6e4347326749f938510#utilizing-container-components\r\n   */\r\n  @Input() book: Book;\r\n  @Input() inCollection: boolean;\r\n  @Output() add = new EventEmitter<Book>();\r\n  @Output() remove = new EventEmitter<Book>();\r\n\r\n  /**\r\n   * Tip: Utilize getters to keep templates clean\r\n   */\r\n  get id() {\r\n    return this.book.id;\r\n  }\r\n\r\n  get title() {\r\n    return this.book.volumeInfo.title;\r\n  }\r\n\r\n  get subtitle() {\r\n    return this.book.volumeInfo.subtitle;\r\n  }\r\n\r\n  get description() {\r\n    return this.book.volumeInfo.description;\r\n  }\r\n\r\n  get thumbnail() {\r\n    return (\r\n      this.book.volumeInfo.imageLinks &&\r\n      this.book.volumeInfo.imageLinks.smallThumbnail\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/components/book-detail.ts","import { Component, Input } from '@angular/core';\r\nimport { Book } from '../models/book';\r\n\r\n@Component({\r\n  selector: 'bc-book-preview-list',\r\n  template: `\r\n    <bc-book-preview *ngFor=\"let book of books\" [book]=\"book\"></bc-book-preview>\r\n  `,\r\n  styles: [\r\n    `\r\n    :host {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      justify-content: center;\r\n    }\r\n  `,\r\n  ],\r\n})\r\nexport class BookPreviewListComponent {\r\n  @Input() books: Book[];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/components/book-preview-list.ts","import { Component, Input } from '@angular/core';\r\nimport { Book } from '../models/book';\r\n\r\n@Component({\r\n  selector: 'bc-book-preview',\r\n  template: `\r\n    <a [routerLink]=\"['/books', id]\">\r\n      <md-card>\r\n        <md-card-title-group>\r\n          <img md-card-sm-image *ngIf=\"thumbnail\" [src]=\"thumbnail\"/>\r\n          <md-card-title>{{ title | bcEllipsis:35 }}</md-card-title>\r\n          <md-card-subtitle *ngIf=\"subtitle\">{{ subtitle | bcEllipsis:40 }}</md-card-subtitle>\r\n        </md-card-title-group>\r\n        <md-card-content>\r\n          <p *ngIf=\"description\">{{ description | bcEllipsis }}</p>\r\n        </md-card-content>\r\n        <md-card-footer>\r\n          <bc-book-authors [book]=\"book\"></bc-book-authors>\r\n        </md-card-footer>\r\n      </md-card>\r\n    </a>\r\n  `,\r\n  styles: [\r\n    `\r\n    md-card {\r\n      width: 400px;\r\n      height: 300px;\r\n      margin: 15px;\r\n    }\r\n    @media only screen and (max-width: 768px) {\r\n      md-card {\r\n        margin: 15px 0 !important;\r\n      }\r\n    }\r\n    md-card:hover {\r\n      box-shadow: 3px 3px 16px -2px rgba(0, 0, 0, .5);\r\n    }\r\n    md-card-title {\r\n      margin-right: 10px;\r\n    }\r\n    md-card-title-group {\r\n      margin: 0;\r\n    }\r\n    a {\r\n      color: inherit;\r\n      text-decoration: none;\r\n    }\r\n    img {\r\n      width: 60px;\r\n      min-width: 60px;\r\n      margin-left: 5px;\r\n    }\r\n    md-card-content {\r\n      margin-top: 15px;\r\n      margin: 15px 0 0;\r\n    }\r\n    span {\r\n      display: inline-block;\r\n      font-size: 13px;\r\n    }\r\n    md-card-footer {\r\n      padding: 0 25px 25px;\r\n    }\r\n  `,\r\n  ],\r\n})\r\nexport class BookPreviewComponent {\r\n  @Input() book: Book;\r\n\r\n  get id() {\r\n    return this.book.id;\r\n  }\r\n\r\n  get title() {\r\n    return this.book.volumeInfo.title;\r\n  }\r\n\r\n  get subtitle() {\r\n    return this.book.volumeInfo.subtitle;\r\n  }\r\n\r\n  get description() {\r\n    return this.book.volumeInfo.description;\r\n  }\r\n\r\n  get thumbnail(): string | boolean {\r\n    if (this.book.volumeInfo.imageLinks) {\r\n      return this.book.volumeInfo.imageLinks.smallThumbnail;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/components/book-preview.ts","import 'rxjs/add/operator/debounceTime';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/distinctUntilChanged';\r\nimport { Component, Output, Input, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bc-book-search',\r\n  template: `\r\n    <md-card>\r\n      <md-card-title>Find a Book</md-card-title>\r\n      <md-card-content>\r\n        <md-input-container>\r\n          <input mdInput placeholder=\"Search for a book\" [value]=\"query\" (keyup)=\"search.emit($event.target.value)\">\r\n        </md-input-container>\r\n        <md-spinner [class.show]=\"searching\"></md-spinner>\r\n      </md-card-content>\r\n    </md-card>\r\n  `,\r\n  styles: [\r\n    `\r\n    md-card-title,\r\n    md-card-content {\r\n      display: flex;\r\n      justify-content: center;\r\n    }\r\n\r\n    input {\r\n      width: 300px;\r\n    }\r\n\r\n    md-card-spinner {\r\n      padding-left: 60px; // Make room for the spinner\r\n    }\r\n\r\n    md-spinner {\r\n      width: 30px;\r\n      height: 30px;\r\n      position: relative;\r\n      top: 10px;\r\n      left: 10px;\r\n      opacity: 0.0;\r\n    }\r\n\r\n    md-spinner.show {\r\n      opacity: 1.0;\r\n    }\r\n  `,\r\n  ],\r\n})\r\nexport class BookSearchComponent {\r\n  @Input() query = '';\r\n  @Input() searching = false;\r\n  @Output() search = new EventEmitter<string>();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/components/book-search.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MaterialModule } from '@angular/material';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { BookAuthorsComponent } from './book-authors';\r\nimport { BookDetailComponent } from './book-detail';\r\nimport { BookPreviewComponent } from './book-preview';\r\nimport { BookPreviewListComponent } from './book-preview-list';\r\nimport { BookSearchComponent } from './book-search';\r\n\r\nimport { PipesModule } from '../../../shared/pipes';\r\n\r\nexport const COMPONENTS = [\r\n  BookAuthorsComponent,\r\n  BookDetailComponent,\r\n  BookPreviewComponent,\r\n  BookPreviewListComponent,\r\n  BookSearchComponent,\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MaterialModule,\r\n    RouterModule,\r\n    PipesModule,\r\n  ],\r\n  declarations: COMPONENTS,\r\n  exports: COMPONENTS,\r\n})\r\nexport class ComponentsModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/components/index.ts","import 'rxjs/add/operator/let';\r\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport * as fromBooks from '../reducers';\r\nimport { Book } from '../models/book';\r\n\r\n@Component({\r\n  selector: 'bc-collection-page',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <md-card>\r\n      <md-card-title>My Collection</md-card-title>\r\n    </md-card>\r\n\r\n    <bc-book-preview-list [books]=\"books$ | async\"></bc-book-preview-list>\r\n  `,\r\n  /**\r\n   * Container components are permitted to have just enough styles\r\n   * to bring the view together. If the number of styles grow,\r\n   * consider breaking them out into presentational\r\n   * components.\r\n   */\r\n  styles: [\r\n    `\r\n    md-card-title {\r\n      display: flex;\r\n      justify-content: center;\r\n    }\r\n  `,\r\n  ],\r\n})\r\nexport class CollectionPageComponent {\r\n  books$: Observable<Book[]>;\r\n\r\n  constructor(store: Store<fromBooks.State>) {\r\n    this.books$ = store.select(fromBooks.getBookCollection);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/containers/collection-page.ts","import 'rxjs/add/operator/take';\r\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport * as fromBooks from '../reducers';\r\nimport * as book from '../actions/book';\r\nimport { Book } from '../models/book';\r\n\r\n@Component({\r\n  selector: 'bc-find-book-page',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <bc-book-search [query]=\"searchQuery$ | async\" [searching]=\"loading$ | async\" (search)=\"search($event)\"></bc-book-search>\r\n    <bc-book-preview-list [books]=\"books$ | async\"></bc-book-preview-list>\r\n  `,\r\n})\r\nexport class FindBookPageComponent {\r\n  searchQuery$: Observable<string>;\r\n  books$: Observable<Book[]>;\r\n  loading$: Observable<boolean>;\r\n\r\n  constructor(private store: Store<fromBooks.State>) {\r\n    this.searchQuery$ = store.select(fromBooks.getSearchQuery).take(1);\r\n    this.books$ = store.select(fromBooks.getSearchResults);\r\n    this.loading$ = store.select(fromBooks.getSearchLoading);\r\n  }\r\n\r\n  search(query: string) {\r\n    this.store.dispatch(new book.SearchAction(query));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/containers/find-book-page.ts","import { Component, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport * as fromBooks from '../reducers';\r\nimport * as collection from '../actions/collection';\r\nimport { Book } from '../models/book';\r\n\r\n@Component({\r\n  selector: 'bc-selected-book-page',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <bc-book-detail\r\n      [book]=\"book$ | async\"\r\n      [inCollection]=\"isSelectedBookInCollection$ | async\"\r\n      (add)=\"addToCollection($event)\"\r\n      (remove)=\"removeFromCollection($event)\">\r\n    </bc-book-detail>\r\n  `,\r\n})\r\nexport class SelectedBookPageComponent {\r\n  book$: Observable<Book>;\r\n  isSelectedBookInCollection$: Observable<boolean>;\r\n\r\n  constructor(private store: Store<fromBooks.State>) {\r\n    this.book$ = store.select(fromBooks.getSelectedBook);\r\n    this.isSelectedBookInCollection$ = store.select(\r\n      fromBooks.isSelectedBookInCollection\r\n    );\r\n  }\r\n\r\n  addToCollection(book: Book) {\r\n    this.store.dispatch(new collection.AddBookAction(book));\r\n  }\r\n\r\n  removeFromCollection(book: Book) {\r\n    this.store.dispatch(new collection.RemoveBookAction(book));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/containers/selected-book-page.ts","import 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/pluck';\r\nimport { Component, OnDestroy, ChangeDetectionStrategy } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport * as fromBooks from '../reducers';\r\nimport * as book from '../actions/book';\r\n\r\n/**\r\n * Note: Container components are also reusable. Whether or not\r\n * a component is a presentation component or a container\r\n * component is an implementation detail.\r\n *\r\n * The View Book Page's responsibility is to map router params\r\n * to a 'Select' book action. Actually showing the selected\r\n * book remains a responsibility of the\r\n * SelectedBookPageComponent\r\n */\r\n@Component({\r\n  selector: 'bc-view-book-page',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <bc-selected-book-page></bc-selected-book-page>\r\n  `,\r\n})\r\nexport class ViewBookPageComponent implements OnDestroy {\r\n  actionsSubscription: Subscription;\r\n\r\n  constructor(store: Store<fromBooks.State>, route: ActivatedRoute) {\r\n    this.actionsSubscription = route.params\r\n      .map(params => new book.SelectAction(params.id))\r\n      .subscribe(store);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.actionsSubscription.unsubscribe();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/containers/view-book-page.ts","import 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/operator/debounceTime';\r\nimport 'rxjs/add/operator/skip';\r\nimport 'rxjs/add/operator/takeUntil';\r\nimport { Injectable, InjectionToken, Optional, Inject } from '@angular/core';\r\nimport { Effect, Actions, toPayload } from '@ngrx/effects';\r\nimport { Action } from '@ngrx/store';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Scheduler } from 'rxjs/Scheduler';\r\nimport { async } from 'rxjs/scheduler/async';\r\nimport { empty } from 'rxjs/observable/empty';\r\nimport { of } from 'rxjs/observable/of';\r\n\r\nimport { GoogleBooksService } from '../../core/services/google-books';\r\nimport * as book from '../actions/book';\r\nimport { Book } from '../models/book';\r\n\r\nexport const SEARCH_DEBOUNCE = new InjectionToken<number>('Search Debounce');\r\nexport const SEARCH_SCHEDULER = new InjectionToken<Scheduler>(\r\n  'Search Scheduler'\r\n);\r\n\r\n/**\r\n * Effects offer a way to isolate and easily test side-effects within your\r\n * application.\r\n * The `toPayload` helper function returns just\r\n * the payload of the currently dispatched action, useful in\r\n * instances where the current state is not necessary.\r\n *\r\n * Documentation on `toPayload` can be found here:\r\n * https://github.com/ngrx/platform/blob/master/docs/effects/api.md#topayload\r\n *\r\n * If you are unfamiliar with the operators being used in these examples, please\r\n * check out the sources below:\r\n *\r\n * Official Docs: http://reactivex.io/rxjs/manual/overview.html#categories-of-operators\r\n * RxJS 5 Operators By Example: https://gist.github.com/btroncone/d6cf141d6f2c00dc6b35\r\n */\r\n\r\n@Injectable()\r\nexport class BookEffects {\r\n  @Effect()\r\n  search$: Observable<Action> = this.actions$\r\n    .ofType(book.SEARCH)\r\n    .debounceTime(this.debounce, this.scheduler || async)\r\n    .map(toPayload)\r\n    .switchMap(query => {\r\n      if (query === '') {\r\n        return empty();\r\n      }\r\n\r\n      const nextSearch$ = this.actions$.ofType(book.SEARCH).skip(1);\r\n\r\n      return this.googleBooks\r\n        .searchBooks(query)\r\n        .takeUntil(nextSearch$)\r\n        .map((books: Book[]) => new book.SearchCompleteAction(books))\r\n        .catch(() => of(new book.SearchCompleteAction([])));\r\n    });\r\n\r\n  constructor(\r\n    private actions$: Actions,\r\n    private googleBooks: GoogleBooksService,\r\n    @Optional()\r\n    @Inject(SEARCH_DEBOUNCE)\r\n    private debounce: number = 300,\r\n    /**\r\n       * You inject an optional Scheduler that will be undefined\r\n       * in normal application usage, but its injected here so that you can mock out\r\n       * during testing using the RxJS TestScheduler for simulating passages of time.\r\n       */\r\n    @Optional()\r\n    @Inject(SEARCH_SCHEDULER)\r\n    private scheduler: Scheduler\r\n  ) {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/effects/book.ts","import 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/startWith';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/operator/mergeMap';\r\nimport 'rxjs/add/operator/toArray';\r\nimport { Injectable } from '@angular/core';\r\nimport { Action } from '@ngrx/store';\r\nimport { Effect, Actions } from '@ngrx/effects';\r\nimport { Database } from '@ngrx/db';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { defer } from 'rxjs/observable/defer';\r\nimport { of } from 'rxjs/observable/of';\r\n\r\nimport * as collection from '../actions/collection';\r\nimport { Book } from '../models/book';\r\n\r\n@Injectable()\r\nexport class CollectionEffects {\r\n  /**\r\n   * This effect does not yield any actions back to the store. Set\r\n   * `dispatch` to false to hint to @ngrx/effects that it should\r\n   * ignore any elements of this effect stream.\r\n   *\r\n   * The `defer` observable accepts an observable factory function\r\n   * that is called when the observable is subscribed to.\r\n   * Wrapping the database open call in `defer` makes\r\n   * effect easier to test.\r\n   */\r\n  @Effect({ dispatch: false })\r\n  openDB$: Observable<any> = defer(() => {\r\n    return this.db.open('books_app');\r\n  });\r\n\r\n  /**\r\n   * This effect makes use of the `startWith` operator to trigger\r\n   * the effect immediately on startup.\r\n   */\r\n  @Effect()\r\n  loadCollection$: Observable<Action> = this.actions$\r\n    .ofType(collection.LOAD)\r\n    .startWith(new collection.LoadAction())\r\n    .switchMap(() =>\r\n      this.db\r\n        .query('books')\r\n        .toArray()\r\n        .map((books: Book[]) => new collection.LoadSuccessAction(books))\r\n        .catch(error => of(new collection.LoadFailAction(error)))\r\n    );\r\n\r\n  @Effect()\r\n  addBookToCollection$: Observable<Action> = this.actions$\r\n    .ofType(collection.ADD_BOOK)\r\n    .map((action: collection.AddBookAction) => action.payload)\r\n    .mergeMap(book =>\r\n      this.db\r\n        .insert('books', [book])\r\n        .map(() => new collection.AddBookSuccessAction(book))\r\n        .catch(() => of(new collection.AddBookFailAction(book)))\r\n    );\r\n\r\n  @Effect()\r\n  removeBookFromCollection$: Observable<Action> = this.actions$\r\n    .ofType(collection.REMOVE_BOOK)\r\n    .map((action: collection.RemoveBookAction) => action.payload)\r\n    .mergeMap(book =>\r\n      this.db\r\n        .executeWrite('books', 'delete', [book.id])\r\n        .map(() => new collection.RemoveBookSuccessAction(book))\r\n        .catch(() => of(new collection.RemoveBookFailAction(book)))\r\n    );\r\n\r\n  constructor(private actions$: Actions, private db: Database) {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/effects/collection.ts","import 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/do';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/let';\r\nimport { Injectable } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { of } from 'rxjs/observable/of';\r\n\r\nimport { GoogleBooksService } from '../../core/services/google-books';\r\nimport * as fromBooks from '../reducers';\r\nimport * as book from '../actions/book';\r\n\r\n/**\r\n * Guards are hooks into the route resolution process, providing an opportunity\r\n * to inform the router's navigation process whether the route should continue\r\n * to activate this route. Guards must return an observable of true or false.\r\n */\r\n@Injectable()\r\nexport class BookExistsGuard implements CanActivate {\r\n  constructor(\r\n    private store: Store<fromBooks.State>,\r\n    private googleBooks: GoogleBooksService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  /**\r\n   * This method creates an observable that waits for the `loaded` property\r\n   * of the collection state to turn `true`, emitting one time once loading\r\n   * has finished.\r\n   */\r\n  waitForCollectionToLoad(): Observable<boolean> {\r\n    return this.store\r\n      .select(fromBooks.getCollectionLoaded)\r\n      .filter(loaded => loaded)\r\n      .take(1);\r\n  }\r\n\r\n  /**\r\n   * This method checks if a book with the given ID is already registered\r\n   * in the Store\r\n   */\r\n  hasBookInStore(id: string): Observable<boolean> {\r\n    return this.store\r\n      .select(fromBooks.getBookEntities)\r\n      .map(entities => !!entities[id])\r\n      .take(1);\r\n  }\r\n\r\n  /**\r\n   * This method loads a book with the given ID from the API and caches\r\n   * it in the store, returning `true` or `false` if it was found.\r\n   */\r\n  hasBookInApi(id: string): Observable<boolean> {\r\n    return this.googleBooks\r\n      .retrieveBook(id)\r\n      .map(bookEntity => new book.LoadAction(bookEntity))\r\n      .do((action: book.LoadAction) => this.store.dispatch(action))\r\n      .map(book => !!book)\r\n      .catch(() => {\r\n        this.router.navigate(['/404']);\r\n        return of(false);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * `hasBook` composes `hasBookInStore` and `hasBookInApi`. It first checks\r\n   * if the book is in store, and if not it then checks if it is in the\r\n   * API.\r\n   */\r\n  hasBook(id: string): Observable<boolean> {\r\n    return this.hasBookInStore(id).switchMap(inStore => {\r\n      if (inStore) {\r\n        return of(inStore);\r\n      }\r\n\r\n      return this.hasBookInApi(id);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This is the actual method the router will call when our guard is run.\r\n   *\r\n   * Our guard waits for the collection to load, then it checks if we need\r\n   * to request a book from the API or if we already have it in our cache.\r\n   * If it finds it in the cache or in the API, it returns an Observable\r\n   * of `true` and the route is rendered successfully.\r\n   *\r\n   * If it was unable to find it in our cache or in the API, this guard\r\n   * will return an Observable of `false`, causing the router to move\r\n   * on to the next candidate route. In this case, it will move on\r\n   * to the 404 page.\r\n   */\r\n  canActivate(route: ActivatedRouteSnapshot): Observable<boolean> {\r\n    return this.waitForCollectionToLoad().switchMap(() =>\r\n      this.hasBook(route.params['id'])\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/guards/book-exists.ts","import { createSelector } from '@ngrx/store';\r\nimport { Book } from '../models/book';\r\nimport * as book from '../actions/book';\r\nimport * as collection from '../actions/collection';\r\n\r\nexport interface State {\r\n  ids: string[];\r\n  entities: { [id: string]: Book };\r\n  selectedBookId: string | null;\r\n}\r\n\r\nexport const initialState: State = {\r\n  ids: [],\r\n  entities: {},\r\n  selectedBookId: null,\r\n};\r\n\r\nexport function reducer(\r\n  state = initialState,\r\n  action: book.Actions | collection.Actions\r\n): State {\r\n  switch (action.type) {\r\n    case book.SEARCH_COMPLETE:\r\n    case collection.LOAD_SUCCESS: {\r\n      const books = action.payload;\r\n      const newBooks = books.filter(book => !state.entities[book.id]);\r\n\r\n      const newBookIds = newBooks.map(book => book.id);\r\n      const newBookEntities = newBooks.reduce(\r\n        (entities: { [id: string]: Book }, book: Book) => {\r\n          return Object.assign(entities, {\r\n            [book.id]: book,\r\n          });\r\n        },\r\n        {}\r\n      );\r\n\r\n      return {\r\n        ids: [...state.ids, ...newBookIds],\r\n        entities: Object.assign({}, state.entities, newBookEntities),\r\n        selectedBookId: state.selectedBookId,\r\n      };\r\n    }\r\n\r\n    case book.LOAD: {\r\n      const book = action.payload;\r\n\r\n      if (state.ids.indexOf(book.id) > -1) {\r\n        return state;\r\n      }\r\n\r\n      return {\r\n        ids: [...state.ids, book.id],\r\n        entities: Object.assign({}, state.entities, {\r\n          [book.id]: book,\r\n        }),\r\n        selectedBookId: state.selectedBookId,\r\n      };\r\n    }\r\n\r\n    case book.SELECT: {\r\n      return {\r\n        ids: state.ids,\r\n        entities: state.entities,\r\n        selectedBookId: action.payload,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Because the data structure is defined within the reducer it is optimal to\r\n * locate our selector functions at this level. If store is to be thought of\r\n * as a database, and reducers the tables, selectors can be considered the\r\n * queries into said database. Remember to keep your selectors small and\r\n * focused so they can be combined and composed to fit each particular\r\n * use-case.\r\n */\r\n\r\nexport const getEntities = (state: State) => state.entities;\r\n\r\nexport const getIds = (state: State) => state.ids;\r\n\r\nexport const getSelectedId = (state: State) => state.selectedBookId;\r\n\r\nexport const getSelected = createSelector(\r\n  getEntities,\r\n  getSelectedId,\r\n  (entities, selectedId) => {\r\n    return entities[selectedId];\r\n  }\r\n);\r\n\r\nexport const getAll = createSelector(getEntities, getIds, (entities, ids) => {\r\n  return ids.map(id => entities[id]);\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/reducers/books.ts","import * as collection from '../actions/collection';\r\n\r\nexport interface State {\r\n  loaded: boolean;\r\n  loading: boolean;\r\n  ids: string[];\r\n}\r\n\r\nconst initialState: State = {\r\n  loaded: false,\r\n  loading: false,\r\n  ids: [],\r\n};\r\n\r\nexport function reducer(\r\n  state = initialState,\r\n  action: collection.Actions\r\n): State {\r\n  switch (action.type) {\r\n    case collection.LOAD: {\r\n      return Object.assign({}, state, {\r\n        loading: true,\r\n      });\r\n    }\r\n\r\n    case collection.LOAD_SUCCESS: {\r\n      const books = action.payload;\r\n\r\n      return {\r\n        loaded: true,\r\n        loading: false,\r\n        ids: books.map(book => book.id),\r\n      };\r\n    }\r\n\r\n    case collection.ADD_BOOK_SUCCESS:\r\n    case collection.REMOVE_BOOK_FAIL: {\r\n      const book = action.payload;\r\n\r\n      if (state.ids.indexOf(book.id) > -1) {\r\n        return state;\r\n      }\r\n\r\n      return Object.assign({}, state, {\r\n        ids: [...state.ids, book.id],\r\n      });\r\n    }\r\n\r\n    case collection.REMOVE_BOOK_SUCCESS:\r\n    case collection.ADD_BOOK_FAIL: {\r\n      const book = action.payload;\r\n\r\n      return Object.assign({}, state, {\r\n        ids: state.ids.filter(id => id !== book.id),\r\n      });\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport const getLoaded = (state: State) => state.loaded;\r\n\r\nexport const getLoading = (state: State) => state.loading;\r\n\r\nexport const getIds = (state: State) => state.ids;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/reducers/collection.ts","import * as book from '../actions/book';\r\n\r\nexport interface State {\r\n  ids: string[];\r\n  loading: boolean;\r\n  query: string;\r\n}\r\n\r\nconst initialState: State = {\r\n  ids: [],\r\n  loading: false,\r\n  query: '',\r\n};\r\n\r\nexport function reducer(state = initialState, action: book.Actions): State {\r\n  switch (action.type) {\r\n    case book.SEARCH: {\r\n      const query = action.payload;\r\n\r\n      if (query === '') {\r\n        return {\r\n          ids: [],\r\n          loading: false,\r\n          query,\r\n        };\r\n      }\r\n\r\n      return Object.assign({}, state, {\r\n        query,\r\n        loading: true,\r\n      });\r\n    }\r\n\r\n    case book.SEARCH_COMPLETE: {\r\n      const books = action.payload;\r\n\r\n      return {\r\n        ids: books.map(book => book.id),\r\n        loading: false,\r\n        query: state.query,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport const getIds = (state: State) => state.ids;\r\n\r\nexport const getQuery = (state: State) => state.query;\r\n\r\nexport const getLoading = (state: State) => state.loading;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/modules/books/reducers/search.ts","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'bcAddCommas' })\r\nexport class AddCommasPipe implements PipeTransform {\r\n  transform(authors: null | string[]) {\r\n    if (!authors) {\r\n      return 'Author Unknown';\r\n    }\r\n\r\n    switch (authors.length) {\r\n      case 0:\r\n        return 'Author Unknown';\r\n      case 1:\r\n        return authors[0];\r\n      case 2:\r\n        return authors.join(' and ');\r\n      default:\r\n        const last = authors[authors.length - 1];\r\n        const remaining = authors.slice(0, -1);\r\n        return `${remaining.join(', ')}, and ${last}`;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/shared/pipes/add-commas.ts","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'bcEllipsis' })\r\nexport class EllipsisPipe implements PipeTransform {\r\n  transform(str: string, strLength: number = 250) {\r\n    const withoutHtml = str.replace(/(<([^>]+)>)/gi, '');\r\n\r\n    if (str.length >= strLength) {\r\n      return `${withoutHtml.slice(0, strLength)}...`;\r\n    }\r\n\r\n    return withoutHtml;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/shared/pipes/ellipsis.ts","import { NgModule } from '@angular/core';\r\n\r\nimport { AddCommasPipe } from './add-commas';\r\nimport { EllipsisPipe } from './ellipsis';\r\n\r\nexport const PIPES = [AddCommasPipe, EllipsisPipe];\r\n\r\n@NgModule({\r\n  declarations: PIPES,\r\n  exports: PIPES,\r\n})\r\nexport class PipesModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./ClientApp/app/shared/pipes/index.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar distinctUntilChanged_1 = require('../../operator/distinctUntilChanged');\nObservable_1.Observable.prototype.distinctUntilChanged = distinctUntilChanged_1.distinctUntilChanged;\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/distinctUntilChanged.js\n// module id = 151\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar mergeMap_1 = require('../../operator/mergeMap');\nObservable_1.Observable.prototype.mergeMap = mergeMap_1.mergeMap;\nObservable_1.Observable.prototype.flatMap = mergeMap_1.mergeMap;\n//# sourceMappingURL=mergeMap.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/mergeMap.js\n// module id = 152\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar pluck_1 = require('../../operator/pluck');\nObservable_1.Observable.prototype.pluck = pluck_1.pluck;\n//# sourceMappingURL=pluck.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/pluck.js\n// module id = 153\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar skip_1 = require('../../operator/skip');\nObservable_1.Observable.prototype.skip = skip_1.skip;\n//# sourceMappingURL=skip.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/skip.js\n// module id = 154\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar startWith_1 = require('../../operator/startWith');\nObservable_1.Observable.prototype.startWith = startWith_1.startWith;\n//# sourceMappingURL=startWith.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/startWith.js\n// module id = 155\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar takeUntil_1 = require('../../operator/takeUntil');\nObservable_1.Observable.prototype.takeUntil = takeUntil_1.takeUntil;\n//# sourceMappingURL=takeUntil.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/takeUntil.js\n// module id = 156\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar toArray_1 = require('../../operator/toArray');\nObservable_1.Observable.prototype.toArray = toArray_1.toArray;\n//# sourceMappingURL=toArray.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/toArray.js\n// module id = 157\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar DeferObservable = (function (_super) {\n    __extends(DeferObservable, _super);\n    function DeferObservable(observableFactory) {\n        _super.call(this);\n        this.observableFactory = observableFactory;\n    }\n    /**\n     * Creates an Observable that, on subscribe, calls an Observable factory to\n     * make an Observable for each new Observer.\n     *\n     * <span class=\"informal\">Creates the Observable lazily, that is, only when it\n     * is subscribed.\n     * </span>\n     *\n     * <img src=\"./img/defer.png\" width=\"100%\">\n     *\n     * `defer` allows you to create the Observable only when the Observer\n     * subscribes, and create a fresh Observable for each Observer. It waits until\n     * an Observer subscribes to it, and then it generates an Observable,\n     * typically with an Observable factory function. It does this afresh for each\n     * subscriber, so although each subscriber may think it is subscribing to the\n     * same Observable, in fact each subscriber gets its own individual\n     * Observable.\n     *\n     * @example <caption>Subscribe to either an Observable of clicks or an Observable of interval, at random</caption>\n     * var clicksOrInterval = Rx.Observable.defer(function () {\n     *   if (Math.random() > 0.5) {\n     *     return Rx.Observable.fromEvent(document, 'click');\n     *   } else {\n     *     return Rx.Observable.interval(1000);\n     *   }\n     * });\n     * clicksOrInterval.subscribe(x => console.log(x));\n     *\n     * // Results in the following behavior:\n     * // If the result of Math.random() is greater than 0.5 it will listen\n     * // for clicks anywhere on the \"document\"; when document is clicked it\n     * // will log a MouseEvent object to the console. If the result is less\n     * // than 0.5 it will emit ascending numbers, one every second(1000ms).\n     *\n     * @see {@link create}\n     *\n     * @param {function(): SubscribableOrPromise} observableFactory The Observable\n     * factory function to invoke for each Observer that subscribes to the output\n     * Observable. May also return a Promise, which will be converted on the fly\n     * to an Observable.\n     * @return {Observable} An Observable whose Observers' subscriptions trigger\n     * an invocation of the given Observable factory function.\n     * @static true\n     * @name defer\n     * @owner Observable\n     */\n    DeferObservable.create = function (observableFactory) {\n        return new DeferObservable(observableFactory);\n    };\n    DeferObservable.prototype._subscribe = function (subscriber) {\n        return new DeferSubscriber(subscriber, this.observableFactory);\n    };\n    return DeferObservable;\n}(Observable_1.Observable));\nexports.DeferObservable = DeferObservable;\nvar DeferSubscriber = (function (_super) {\n    __extends(DeferSubscriber, _super);\n    function DeferSubscriber(destination, factory) {\n        _super.call(this, destination);\n        this.factory = factory;\n        this.tryDefer();\n    }\n    DeferSubscriber.prototype.tryDefer = function () {\n        try {\n            this._callFactory();\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    DeferSubscriber.prototype._callFactory = function () {\n        var result = this.factory();\n        if (result) {\n            this.add(subscribeToResult_1.subscribeToResult(this, result));\n        }\n    };\n    return DeferSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=DeferObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/DeferObservable.js\n// module id = 158\n// module chunks = 0","\"use strict\";\nvar DeferObservable_1 = require('./DeferObservable');\nexports.defer = DeferObservable_1.DeferObservable.create;\n//# sourceMappingURL=defer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/observable/defer.js\n// module id = 159\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * @return {Observable<any[]>|WebSocketSubject<T>|Observable<T>}\n * @method toArray\n * @owner Observable\n */\nfunction toArray() {\n    return this.lift(new ToArrayOperator());\n}\nexports.toArray = toArray;\nvar ToArrayOperator = (function () {\n    function ToArrayOperator() {\n    }\n    ToArrayOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ToArraySubscriber(subscriber));\n    };\n    return ToArrayOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ToArraySubscriber = (function (_super) {\n    __extends(ToArraySubscriber, _super);\n    function ToArraySubscriber(destination) {\n        _super.call(this, destination);\n        this.array = [];\n    }\n    ToArraySubscriber.prototype._next = function (x) {\n        this.array.push(x);\n    };\n    ToArraySubscriber.prototype._complete = function () {\n        this.destination.next(this.array);\n        this.destination.complete();\n    };\n    return ToArraySubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=toArray.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operator/toArray.js\n// module id = 160\n// module chunks = 0","module.exports = (__webpack_require__(0))(290);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/filter.js from dll-reference vendor_22a055663ebdc1f0bcc5\n// module id = 161\n// module chunks = 0"],"sourceRoot":""}